<#setting url_escaping_charset='UTF-8'>
<div class="row-fluid">
	<div class="span12">
		<fieldset>
			<legend>
				#i18n{module.stock.billetterie.manage_product.title}
				<span class="pull-right spaced">
					<a class="btn btn-small btn-primary" href="jsp/admin/plugins/stock/modules/billetterie/ManageCategories.jsp" >
						<i class="icon-cog icon-white" ></i>
						<span class="hidden-phone"> #i18n{module.stock.billetterie.manage_product.buttonGererListeCategories}</span>
					</a>
					<a class="btn btn-small btn-primary" href="jsp/admin/plugins/stock/modules/billetterie/SaveProduct.jsp?partnerId=${(filter.idProvider)!}&categoryId=${(filter.idCategory)!}" >
						<i class="icon-plus icon-white" ></i>
						<span class="hidden-phone"> #i18n{module.stock.billetterie.manage_product.buttonCreateProduct}</span>
					</a>
				</span>
			</legend>
			<div class="row-fluid">
				<div class="span3 well">
					<form action="jsp/admin/plugins/stock/modules/billetterie/ManageProducts.jsp" method="post">
						<input type="hidden" name="filter" value="${filter!}" />
						
						<@showFilterInput id="filter_name" name="name" value="${filter.name!}" label="#i18n{module.stock.billetterie.manage_product.filter.name}" />

						<@showFilterSelect list=provider_list id="filter_salle" name="idProvider" value="${filter.idProvider!}" label="#i18n{module.stock.billetterie.manage_product.filter.salle}" />

						<@showFilterSelect list=category_list id="filter_category" name="idCategory" value="${filter.idCategory!}" label="#i18n{module.stock.billetterie.manage_product.filter.category}" />

						<p>
							<label for="date_from">#i18n{module.stock.billetterie.manage_product.filter.date_from} : </label>
							<input class="span5" type="text" name="dateFrom" id="date_from" maxlength="10" value="${filter.dateFrom!}"/>
								#i18n{module.stock.billetterie.manage_product.filter.date_to} : 
							<input class="span5" type="text" name="dateTo" id="date_to" maxlength="10" value="${filter.dateTo!}"/>
						</p>
						<p>
							<label for="show_aLaffiche"/>#i18n{module.stock.billetterie.manage_product.filter.alaffiche} :</label>
							<input class="span"  type="checkbox" id="show_aLaffiche" name="aLaffiche" value="on" <#if filter.alaffiche?has_content && filter.alaffiche>checked="checked"</#if>/>
						</p>
						<@showSearchButton />
					</form>
				</div>
				<div class="span9">
					<@paginationAdmin paginator=paginator combo=1 />
					<table class="table table-striped table-condensed">
						<tbody>
						    <tr>
					        	<th>#i18n{module.stock.billetterie.manage_product.filter.name}</th>
					        	<th>#i18n{module.stock.billetterie.manage_product.filter.provider}</th>
					        	<th>#i18n{module.stock.billetterie.manage_product.filter.category}</th>
					        	<th>#i18n{module.stock.billetterie.manage_product.dates}</th>
					        	<th>#i18n{module.stock.billetterie.manage_product.actionsLabel}</th>
					    	</tr>
					    	<#if list_products?has_content>
						    <#list list_products as product>
							    <tr>
						        	<td><a title="#i18n{module.stock.billetterie.manage_product.linkModifyProduct}" href="jsp/admin/plugins/stock/modules/billetterie/SaveProduct.jsp?product_id=${product.id}"> ${product.name!}</a></td>
						        	<td>${product.providerName!}</td>
						        	<td>${product.categoryName!}</td>
						        	<td>Du ${product.startDate!} au ${product.endDate!}</td>
						        	<td>
						            	<@showButton type="see" title="module.stock.billetterie.manage_product.linkSeance" href="jsp/admin/plugins/stock/modules/billetterie/ManageOffers.jsp?productId=${product.id!}" />
						        		<@showButton type="edit" title="module.stock.billetterie.manage_product.linkModifyProduct" href="jsp/admin/plugins/stock/modules/billetterie/SaveProduct.jsp?product_id=${product.id}" />
						            	<@showButton type="delete"  title="module.stock.billetterie.manage_product.linkDeleteProduct" href="jsp/admin/plugins/stock/modules/billetterie/DeleteProduct.jsp?product_id=${product.id}" />
						            </td>
							    </tr>
						    </#list>
						    <#else>
								<tr>
									<td colspan="7">
										Aucun résultat trouvé. Veuillez élargir votre recherche ou créer un spectacle.
									</td>
								</tr>
							</#if>
						</tbody>
					</table>
				</div>
			</div>
		</fieldset>
	</div>
</div>

<@getDatePickerRange idFieldFrom="date_from" idFieldTo="date_to" language="fr_FR" />