<#setting url_escaping_charset='UTF-8'>
<#macro columnActionsProduct item >
  	<@showButton type="see" title="module.stock.billetterie.manage_product.linkSeance" href="jsp/admin/plugins/stock/modules/billetterie/ManageOffers.jsp?productId=${item.id!}" />
	<@showButton type="edit" title="module.stock.billetterie.manage_product.linkModifyProduct" href="jsp/admin/plugins/stock/modules/billetterie/SaveProduct.jsp?product_id=${item.id}" />
  	<@showButton type="delete"  title="module.stock.billetterie.manage_product.linkDeleteProduct" href="jsp/admin/plugins/stock/modules/billetterie/DeleteProduct.jsp?product_id=${item.id}" />
</#macro>

<#macro columnNameProduct item >
	<a title="#i18n{module.stock.billetterie.manage_product.linkModifyProduct}" href="jsp/admin/plugins/stock/modules/billetterie/SaveProduct.jsp?product_id=${item.id}">
		${item.name!}
	</a>
</#macro>

<#macro columnDatesProduct item >
	Du ${item.startDate!} au ${item.endDate!}
</#macro>

<div class="row-fluid">
	<div class="span12">
		<fieldset>
			<legend>
				#i18n{module.stock.billetterie.manage_product.title}
				<span class="pull-right spaced">
					<a class="btn btn-small btn-primary" href="jsp/admin/plugins/stock/modules/billetterie/ManageCategories.jsp" >
						<i class="icon-cog icon-white" ></i>
						<span class="hidden-phone"> #i18n{module.stock.billetterie.manage_product.buttonGererListeCategories}</span>
					</a>
					<a class="btn btn-small btn-primary" href="jsp/admin/plugins/stock/modules/billetterie/SaveProduct.jsp?partnerId=${(filter.idProvider)!}&categoryId=${(filter.idCategory)!}" >
						<i class="icon-plus icon-white" ></i>
						<span class="hidden-phone"> #i18n{module.stock.billetterie.manage_product.buttonCreateProduct}</span>
					</a>
				</span>
			</legend>
			<div class="row-fluid">
				<div class="span3 well">
					<form action="jsp/admin/plugins/stock/modules/billetterie/ManageProducts.jsp" method="post">
						<input type="hidden" name="filter" value="${filter!}" />
						
						<@showFilterInput id="filter_name" name="name" value="${filter.name!}" label="#i18n{module.stock.billetterie.manage_product.filter.name}" />

						<@showFilterSelect list=provider_list id="filter_salle" name="idProvider" value="${filter.idProvider!}" label="#i18n{module.stock.billetterie.manage_product.filter.salle}" />

						<@showFilterSelect list=category_list id="filter_category" name="idCategory" value="${filter.idCategory!}" label="#i18n{module.stock.billetterie.manage_product.filter.category}" />

						<p>
							<label for="date_from">#i18n{module.stock.billetterie.manage_product.filter.date_from} : </label>
							<input class="span5" type="text" name="dateFrom" id="date_from" maxlength="10" value="${filter.dateFrom!}"/>
								#i18n{module.stock.billetterie.manage_product.filter.date_to} : 
							<input class="span5" type="text" name="dateTo" id="date_to" maxlength="10" value="${filter.dateTo!}"/>
						</p>
						<p>
							<label for="show_aLaffiche"/>#i18n{module.stock.billetterie.manage_product.filter.alaffiche} :
								<input type="checkbox" id="show_aLaffiche" name="aLaffiche" value="on" <#if filter.alaffiche?has_content && filter.alaffiche>checked="checked"</#if>/>
							</label>
						</p>
						<@showSearchButton />
					</form>
				</div>
				<div class="span9">
					<@dataTable dataTableManager=dataTableProduct />
				</div>
			</div>
		</fieldset>
	</div>
</div>

<@getDatePickerRange idFieldFrom="date_from" idFieldTo="date_to" language="fr_FR" />
<script src="js/jquery/plugins/ui/ui.datepicker-fr.js"></script>